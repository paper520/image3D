/*!
* image3D - üçä ‰ΩøÁî®webGLÁªòÂà∂‰∏âÁª¥ÂõæÁâá„ÄÇDrawing three-dimensional images using webGL.
* git+https://github.com/yelloxing/image3D.git
*
* author ÂøÉÂè∂
*
* version 2.0.1-alpha
*
* build Thu Apr 11 2019
*
* Copyright yelloxing
* Released under the MIT license
*
* Date:Sat Jan 04 2020 04:15:37 GMT+0800 (GMT+08:00)
*/

"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};(function(){"use strict";var f=function r(t,n,o){var e=t.createShader(n);if(e==null)throw new Error("Unable to create shader!");t.shaderSource(e,o);t.compileShader(e);if(!t.getShaderParameter(e,t.COMPILE_STATUS))throw new Error("Failed to compile shader:"+t.getShaderInfoLog(e));return e};var i=function r(t,n,o){var e=f(t,t.VERTEX_SHADER,n),i=f(t,t.FRAGMENT_SHADER,o);var a=t.createProgram();t.attachShader(a,e);t.attachShader(a,i);t.linkProgram(a);if(!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Failed to link program: "+t.getProgramInfoLog(a));t.useProgram(a);return a};var a=function r(t,n){var o=t.createBuffer(),e=n?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;t.bindBuffer(e,o);return o};var g=function r(t,n,o,e){var i=e?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;t.bufferData(i,n,o)};var A=function r(t,n,o,e,i,a,f){t.vertexAttribPointer(n,o,e,f||false,i||0,a||0);t.enableVertexAttribArray(n)};var u=function r(t,n,o){var e=t.createTexture();t.activeTexture(t["TEXTURE"+n]);t.bindTexture(o,e);return e};var c=function r(t,n,o){var e=void 0;for(e in o){t.texParameteri(n,t[e],t[o[e]])}};var v=function r(t,n,o,e,i,a){e={rgb:t.RGB,rgba:t.RGBA,alpha:t.ALPHA}[e]||t.RGB;t.texImage2D(n,o,e,e,{}[i]||t.UNSIGNED_BYTE,a)};function s(f){return{setAttribute1f:function r(t,n){var o=f.getAttribLocation(f.program,t);f.vertexAttrib1f(o,n)},setAttribute2f:function r(t,n,o){var e=f.getAttribLocation(f.program,t);f.vertexAttrib2f(e,n,o)},setAttribute3f:function r(t,n,o,e){var i=f.getAttribLocation(f.program,t);f.vertexAttrib3f(i,n,o,e)},setAttribute4f:function r(t,n,o,e,i){var a=f.getAttribLocation(f.program,t);f.vertexAttrib4f(a,n,o,e,i)},setAttribute1i:function r(t,n){var o=f.getAttribLocation(f.program,t);f.vertexAttrib1i(o,n)},setAttribute2i:function r(t,n,o){var e=f.getAttribLocation(f.program,t);f.vertexAttrib2i(e,n,o)},setAttribute3i:function r(t,n,o,e){var i=f.getAttribLocation(f.program,t);f.vertexAttrib3i(i,n,o,e)},setAttribute4i:function r(t,n,o,e,i){var a=f.getAttribLocation(f.program,t);f.vertexAttrib4i(a,n,o,e,i)},setUniform1f:function r(t,n){var o=f.getUniformLocation(f.program,t);f.uniform1f(o,n)},setUniform2f:function r(t,n,o){var e=f.getUniformLocation(f.program,t);f.uniform2f(e,n,o)},setUniform3f:function r(t,n,o,e){var i=f.getUniformLocation(f.program,t);f.uniform3f(i,n,o,e)},setUniform4f:function r(t,n,o,e,i){var a=f.getUniformLocation(f.program,t);f.uniform4f(a,n,o,e,i)},setUniform1i:function r(t,n){var o=f.getUniformLocation(f.program,t);f.uniform1i(o,n)},setUniform2i:function r(t,n,o){var e=f.getUniformLocation(f.program,t);f.uniform2i(e,n,o)},setUniform3i:function r(t,n,o,e){var i=f.getUniformLocation(f.program,t);f.uniform3i(i,n,o,e)},setUniform4i:function r(t,n,o,e,i){var a=f.getUniformLocation(f.program,t);f.uniform4i(a,n,o,e,i)}}}function b(o){return{points:function r(t,n){o.drawArrays(o.POINTS,t,n)},lines:function r(t,n){o.drawArrays(o.LINES,t,n*2)},stripLines:function r(t,n){o.drawArrays(o.LINE_STRIP,t,n+1)},loopLines:function r(t,n){o.drawArrays(o.LINE_LOOP,t,n)},triangles:function r(t,n){o.drawArrays(o.TRIANGLES,t,n*3)},stripTriangles:function r(t,n){o.drawArrays(o.TRIANGLE_STRIP,t,n+2)},fanTriangles:function r(t,n){o.drawArrays(o.TRIANGLE_FAN,t,n+2)}}}var E=function r(t,n){var o=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,i=void 0;for(i=0;i<o.length;i++){try{e=t.getContext(o[i],n)}catch(r){}if(e)break}return e};function r(r,t){var m=E(r,t),o={painter:function r(){return b(m)},shader:function r(t,n){m.program=i(m,t,n);return o},buffer:function r(o){a(m,o);var u=void 0,c={write:function r(t,n){n=n||m.STATIC_DRAW;g(m,t,n,o);u=t;return c},use:function r(t,n,o,e,i,a){var f=u.BYTES_PER_ELEMENT;if(typeof t=="string")t=m.getAttribLocation(m.program,t);o=o||0;e=e||0;i=i||m.FLOAT;A(m,t,n,i,o*f,e*f,a);return c}};return c},texture:function r(t,i){i={"2d":m.TEXTURE_2D,"3d":m.TEXTURE_3D,cube:m.TEXTURE_CUBE_MAP}[i]||m.TEXTURE_2D;u(m,t,i);var a={config:function r(t){c(m,i,t);return a},use:function r(t,n,o,e){v(m,i,n,o,e,t);return a}};return a}};var n=s(m);for(var e in n){o[e]=n[e]}return o}var t=function r(){};t.core=r;if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&_typeof(module.exports)==="object"){module.exports=t}else{var n=window.image3D;t.noConflict=function(){if(window.image3D===t){window.image3D=n}return t};window.image3D=t}})();