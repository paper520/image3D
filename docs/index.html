<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="image3D.png">
    <script src="./image3D.min.guider.js"></script>
    <script src="./prettify.js"></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./prettify.css">
    <title>image3D 查询手册</title>
    <script>
        // 到顶部
        function toTop() {
            document.documentElement.scrollTop = 0;
        }
    </script>
</head>

<body onload='prettyPrint();'>
    <header>
        <h2>image3D</h2>
        <ul>
            <li active='yes'>快速开始</li>
            <li onclick='window.location.href="./render3D.html"'>3D对象</li>
            <li onclick='window.location.href="./shader.html"'>着色器</li>
            <li onclick='window.location.href="./matrix4.html"'>坐标变换</li>
            <li onclick='window.location.href="https://github.com/yelloxing/image3D/issues"'>帮助</li>
            <li onclick='window.location.href="./course.html"'>教程</li>
        </ul>
        <a href="https://github.com/yelloxing/image3D" class="github" target="_blank">
            Fork me on Github
        </a>
    </header>
    <div class="content">

        <h4>
            概要
        </h4>
        <p>
            我们的目的是借助这份文档和image3D可以比较轻松的绘制三维图形，包括一些交互和控制。这个库永远都是自由、开源、讨论和进步的。
        </p>

        <p>我们欢迎任何人的加入，任何时候，特别是遇到疑惑，联系
            <a href="mailto:yelloxing@gmail.com">作者</a>都会是一个好主意。当然，提
            <a href="https://github.com/yelloxing/image3D/issues">issue</a>也是不错的，因为这样更方便大家交流！</p>

        <h4>
            起步
        </h4>
        <p>
            具体的接口请查看对应章节，我们这里来演示一个简单的例子，向你说明绘制图形的基本方法，以便让你有一个整体的认识。
        </p>
        <p>
            我们将绘制一个红色的正方形点（更复杂的图形绘制请学习
            <a href="./course.html">教程</a>一章 ），完整的代码你可以
            <a href="https://github.com/yelloxing/image3D/blob/dev/test/use-case/shader.html" target="_blank">点击这里</a>查看。
        </p>

        <h6>
            第一步：获得绘图对象
        </h6>
        <p>
            因为webgl是把canvas作为画布的，因此，我们首先需要有一个canvas结点：
        </p>
        <pre class='prettyprint lang-html'>&lt;canvas width=500 height=500&gt;非常抱歉，您的浏览器不支持canvas!&lt;/canvas&gt;</pre>
        <p>
            有了画布以后，就可以获取画笔了?不，三维绘图比较麻烦，为了更方便绘制，我们要先获取一个叫
            <a href="./render3D.html">3D对象</a> 的东西：
        </p>
        <pre class='prettyprint lang-js'>var render3D = $$(document.getElementsByTagName('canvas')[0]).render3D();</pre>
        <p>
            这个绘图对象非常重要，会提供我们需要的画笔和别的最基本的绘图相关接口。
        </p>

        <h6>
            第二步：设置着色器
        </h6>
        <p>
            和svg或canvas2D不一样，webgl绘图其实是借助着色器来实现的，以这个例子来简单说明就是：我们需要提供二个着色器，前者存储点的位置、大小，后者存储颜色。
        </p>
        <p>
            是不是有点糊涂？其实简单的说，就是二段字符串（我们用script标签包裹起来只是为了方便编辑），我们直接看看代码：
        </p>
        <p>
            存储点的位置、大小的着色器我们称为顶点着色器：
        </p>
        <pre class='prettyprint lang-html'>&lt;script type='x-shader/x-vertex' id='vs'&gt;
    void main(){
        gl_Position=vec4(0.0,0.0,0.0,1.0);
        gl_PointSize=100.0;
    }
&lt;/script&gt;</pre>
        <p>
            存储颜色的我们称为片段着色器或片元着色器：
        </p>
        <pre class='prettyprint lang-html'>&lt;script type='x-shader/x-fragment' id='fs'&gt;
    void main(){
        gl_FragColor=vec4(1.0,0.0,0.0,1.0);
    }
&lt;/script&gt;</pre>
        <p>
            上面已经说过了，这只是二段字符串，我们需要让它生效：
        </p>
        <pre class='prettyprint lang-js'>// 启用着色器
render3D.shader(
    document.getElementById('vs').innerHTML,
    document.getElementById('fs').innerHTML
);</pre>
        <p>
            到这一步，绘图的信息（也就是着色器）已经准备好了。
        </p>

        <h6>
            第三步：绘制
        </h6>
        <pre class='prettyprint lang-js'>// 获取画笔
var gl = render3D.painter();
// 绘制一个点
gl.drawArrays(gl.POINTS, 0, 1);
        </pre>
        <p>
            至此，一个红色的矩形点就绘制好了！
        </p>
        <p>
            怎么样？是不是挺简单的，更复杂的图形其实绘制流程也是这样子，只不过数据更多了（这就需要用到缓冲区等别的辅助工具，这些工具也是由render3D或image3D提供），业务更复杂了，不过究其本质都大同小异。
        </p>

        <h4>
            下一步
        </h4>
        <p>
            通过上面的学习，你应该已经感受到了2D绘图和3D绘图的一些区别，接下来你应该跟着
            <a href="./course.html">教程</a> 章节来系统学习一下（其余章节是重要文档，在学习和开发的时候随时查阅）。这里还有一个
            <a href="https://github.com/yelloxing/image3D/issues">问题交流</a> 的部分，你可以把你使用的后的改进意见反馈给我们，或者在这里提出使用疑惑。
        </p>
    </div>
    <footer>
        <ul>
            <li>
                <a href="javascriot:void(0)" onclick='toTop()'>快速开始</a>
            </li>
            <li>
                <a href="./render3D.html">3D对象</a>
            </li>
            <li>
                <a href="./shader.html">着色器</a>
            </li>
            <li>
                <a href="./matrix4.html">坐标变换</a>
            </li>
            <li>
                <a href="https://github.com/yelloxing/image3D/issues" target="_blank">帮助</a>
            </li>
            <li>
                <a href="./course.html">教程</a>
            </li>
        </ul>
        Copyright © 2007 - 2019
        <em>走一步 再走一步</em>
        <a href="javascriot:void(0)" onclick='toTop()'>回到顶部</a>
    </footer>
</body>


<!--

    我还惊讶地意识到， 在我生命中有很多时刻， 每当我遇到一个遥不可及、令人害怕的情境，
    并感到惊慌失措时， 我都能够应付——因为我回想起了很久以前自己上过的那一课。
    我提醒自己不要看下面遥远的岩石， 而是注意相对轻松、容易的第一小步， 迈出一小步、再一小步，
    就这样体会每一步带来的成就感， 直到完成了自己想要完成的， 达到了自己的目标，
    然后再回头看时， 不禁对自己走过的这段漫漫长路感到惊讶和自豪。

                                            ———— 摘自 莫顿·亨特《走一步，再走一步》

-->

</html>
